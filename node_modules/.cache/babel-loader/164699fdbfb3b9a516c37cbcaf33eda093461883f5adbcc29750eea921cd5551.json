{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport axios from 'axios';\nexport default {\n  data() {\n    return {\n      loja: {\n        nome: '',\n        endereco: '',\n        telemovel: '',\n        email: ''\n      },\n      lojas: [],\n      mensagem: '',\n      editandoId: null,\n      pesquisa: ''\n    };\n  },\n  computed: {\n    resultadoPesquisa() {\n      const termo = this.pesquisa.toLowerCase();\n      return this.lojas.filter(loja => loja.nome.toLowerCase().includes(termo) || loja.email.toLowerCase().includes(termo));\n    }\n  },\n  mounted() {\n    this.carregarLojas();\n  },\n  methods: {\n    async carregarLojas() {\n      const res = await axios.get('/lojas');\n      this.lojas = res.data;\n    },\n    async criarLoja() {\n      try {\n        const user = JSON.parse(localStorage.getItem('user'));\n        const responsavel_id = user?._id;\n        if (this.editandoId) {\n          await axios.put(`/lojas/${this.editandoId}`, this.loja);\n          this.mensagem = 'Loja atualizada com sucesso!';\n        } else {\n          await axios.post('/lojas', {\n            ...this.loja,\n            responsavel_id\n          });\n          this.mensagem = 'Loja criada com sucesso!';\n        }\n        this.loja = {\n          nome: '',\n          endereco: '',\n          telemovel: '',\n          email: ''\n        };\n        this.editandoId = null;\n        this.carregarLojas();\n      } catch (error) {\n        console.error(error);\n        this.mensagem = 'Erro ao salvar loja.';\n      }\n    },\n    editarLoja(loja) {\n      this.loja = {\n        ...loja\n      };\n      this.editandoId = loja._id;\n      window.scrollTo({\n        top: 0,\n        behavior: 'smooth'\n      });\n    },\n    async apagarLoja(id) {\n      if (confirm('Tem certeza que deseja apagar esta loja?')) {\n        try {\n          await axios.delete(`/lojas/${id}`);\n          this.mensagem = 'Loja apagada com sucesso!';\n          this.carregarLojas();\n        } catch (error) {\n          console.error(error);\n          this.mensagem = 'Erro ao apagar loja.';\n        }\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","data","loja","nome","endereco","telemovel","email","lojas","mensagem","editandoId","pesquisa","computed","resultadoPesquisa","termo","toLowerCase","filter","includes","mounted","carregarLojas","methods","res","get","criarLoja","user","JSON","parse","localStorage","getItem","responsavel_id","_id","put","post","error","console","editarLoja","window","scrollTo","top","behavior","apagarLoja","id","confirm","delete"],"sources":["C:\\Users\\heieb\\OneDrive\\Ambiente de Trabalho\\10ABRIL\\Projeto-PTR-PTI\\src\\components\\CriarLoja.vue"],"sourcesContent":["<template>\r\n  <header>\r\n    <h1>FromU2Me</h1>\r\n    <nav>\r\n      <ul>\r\n        <li><router-link to=\"/home\">Início</router-link></li>\r\n        <li><a href=\"#produtos\">Produtos</a></li>\r\n        <li><a href=\"#contato\">Contato</a></li>\r\n      </ul>\r\n    </nav>\r\n  </header>\r\n\r\n  <div class=\"form-container\">\r\n    <h2>Criar Nova Loja</h2>\r\n    <form @submit.prevent=\"criarLoja\">\r\n      <div class=\"form-group\">\r\n        <label for=\"nome\">Nome da Loja</label>\r\n        <input type=\"text\" v-model=\"loja.nome\" id=\"nome\" required />\r\n      </div>\r\n\r\n      <div class=\"form-group\">\r\n        <label for=\"endereco\">Endereço</label>\r\n        <input type=\"text\" v-model=\"loja.endereco\" id=\"endereco\" required />\r\n      </div>\r\n\r\n      <div class=\"form-group\">\r\n        <label for=\"telemovel\">Telemóvel</label>\r\n        <input type=\"text\" v-model=\"loja.telemovel\" id=\"telemovel\" required />\r\n      </div>\r\n\r\n      <div class=\"form-group\">\r\n        <label for=\"email\">Email</label>\r\n        <input type=\"email\" v-model=\"loja.email\" id=\"email\" required />\r\n      </div>\r\n\r\n      <button type=\"submit\">{{ editandoId ? 'Atualizar Loja' : 'Criar Loja' }}</button>\r\n    </form>\r\n\r\n    <div v-if=\"mensagem\" class=\"mensagem\">{{ mensagem }}</div>\r\n\r\n\r\n    <!-- Lista de lojas -->\r\n    <div class=\"lojas-lista\">\r\n      <h2>Minhas Lojas</h2>\r\n      <ul>\r\n        <li v-for=\"loja in lojas\" :key=\"loja._id\">\r\n          {{ loja.nome }} - {{ loja.email }}\r\n          <button @click=\"editarLoja(loja)\">Editar</button>\r\n          <button @click=\"apagarLoja(loja._id)\">Apagar</button>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      loja: {\r\n        nome: '',\r\n        endereco: '',\r\n        telemovel: '',\r\n        email: '',\r\n      },\r\n      lojas: [],\r\n      mensagem: '',\r\n      editandoId: null,\r\n      pesquisa: '',\r\n    };\r\n  },\r\n  computed: {\r\n    resultadoPesquisa() {\r\n      const termo = this.pesquisa.toLowerCase();\r\n      return this.lojas.filter(loja =>\r\n        loja.nome.toLowerCase().includes(termo) || loja.email.toLowerCase().includes(termo)\r\n      );\r\n    }\r\n  },\r\n  mounted() {\r\n    this.carregarLojas();\r\n  },\r\n  methods: {\r\n    async carregarLojas() {\r\n      const res = await axios.get('/lojas');\r\n      this.lojas = res.data;\r\n    },\r\n\r\n    async criarLoja() {\r\n      try {\r\n        const user = JSON.parse(localStorage.getItem('user'));\r\n        const responsavel_id = user?._id;\r\n\r\n        if (this.editandoId) {\r\n          await axios.put(`/lojas/${this.editandoId}`, this.loja);\r\n          this.mensagem = 'Loja atualizada com sucesso!';\r\n        } else {\r\n          await axios.post('/lojas', { ...this.loja, responsavel_id });\r\n          this.mensagem = 'Loja criada com sucesso!';\r\n        }\r\n\r\n        this.loja = { nome: '', endereco: '', telemovel: '', email: '' };\r\n        this.editandoId = null;\r\n        this.carregarLojas();\r\n      } catch (error) {\r\n        console.error(error);\r\n        this.mensagem = 'Erro ao salvar loja.';\r\n      }\r\n    },\r\n\r\n    editarLoja(loja) {\r\n      this.loja = { ...loja };\r\n      this.editandoId = loja._id;\r\n      window.scrollTo({ top: 0, behavior: 'smooth' });\r\n    },\r\n\r\n    async apagarLoja(id) {\r\n      if (confirm('Tem certeza que deseja apagar esta loja?')) {\r\n        try {\r\n          await axios.delete(`/lojas/${id}`);\r\n          this.mensagem = 'Loja apagada com sucesso!';\r\n          this.carregarLojas();\r\n        } catch (error) {\r\n          console.error(error);\r\n          this.mensagem = 'Erro ao apagar loja.';\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n\r\n<style scoped>\r\n\r\n.pesquisa-container {\r\n  margin-top: 2rem;\r\n  padding: 1rem;\r\n  border: 1px solid #ccc;\r\n  border-radius: 8px;\r\n  background: #f9f9f9;\r\n}\r\n\r\n.pesquisa-container input {\r\n  padding: 0.5rem;\r\n  width: 100%;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n\r\n\r\n  header {\r\n    background: #0d6efd;\r\n    color: #fff;\r\n    padding: 20px;\r\n    text-align: center;\r\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n  }\r\n\r\n  #regisbtn {\r\n    padding: 10px 20px;\r\n    background-color: lightblue;\r\n    font-weight: bold;\r\n    border: none;\r\n    cursor: pointer;\r\n    transition: background-color 0.3s;\r\n  }\r\n\r\n  #regisbtn:hover {\r\n    background-color: #0d6efd;\r\n    color: white;\r\n  }\r\n\r\n  nav ul {\r\n    list-style: none;\r\n    padding: 0;\r\n    display: flex;\r\n    justify-content: center;\r\n    gap: 20px;\r\n  }\r\n\r\n  nav ul li a {\r\n    color: #fff;\r\n    text-decoration: none;\r\n    font-weight: bold;\r\n  }\r\n\r\n  .banner {\r\n    text-align: center;\r\n    padding: 60px 20px;\r\n    background: linear-gradient(to right, #0d6efd, #6610f2);\r\n    color: #fff;\r\n  }\r\n\r\n  .produtos {\r\n    display: grid;\r\n    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\r\n    gap: 20px;\r\n    padding: 40px;\r\n    max-width: 1200px;\r\n    margin: 0 auto;\r\n  }\r\n\r\n  .produto {\r\n    background: #fff;\r\n    padding: 15px;\r\n    text-align: center;\r\n    border-radius: 5px;\r\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\r\n  }\r\n\r\n  .produto img {\r\n    max-width: 100%;\r\n    border-radius: 5px;\r\n  }\r\n\r\n  .contato {\r\n    text-align: center;\r\n    padding: 40px 20px;\r\n    background-color: #f8f9fa;\r\n  }\r\n\r\n  footer {\r\n    background: #0d6efd;\r\n    color: #fff;\r\n    text-align: center;\r\n    padding: 20px;\r\n    margin-top: 40px;\r\n    font-size: 14px;\r\n  } \r\n.form-container {\r\n  max-width: 500px;\r\n  margin: 0 auto;\r\n  background: #fff;\r\n  padding: 30px;\r\n  border-radius: 10px;\r\n  box-shadow: 0 4px 8px rgba(0,0,0,0.1);\r\n}\r\n\r\nh2 {\r\n  text-align: center;\r\n  margin-bottom: 20px;\r\n  color: #0d6efd;\r\n}\r\n\r\n.form-group {\r\n  margin-bottom: 15px;\r\n}\r\n\r\nlabel {\r\n  display: block;\r\n  font-weight: bold;\r\n  margin-bottom: 5px;\r\n}\r\n\r\ninput[type=\"text\"], input[type=\"email\"] {\r\n  width: 100%;\r\n  padding: 10px;\r\n  box-sizing: border-box;\r\n  border-radius: 5px;\r\n  border: 1px solid #ccc;\r\n}\r\n\r\nbutton {\r\n  width: 100%;\r\n  background-color: #0d6efd;\r\n  color: white;\r\n  border: none;\r\n  padding: 12px;\r\n  font-size: 16px;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n}\r\n\r\nbutton:hover {\r\n  background-color: #0b5ed7;\r\n}\r\n\r\n.mensagem {\r\n  margin-top: 15px;\r\n  text-align: center;\r\n  font-weight: bold;\r\n}\r\n</style>\r\n"],"mappings":";;AAyDA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,IAAI,EAAE;QACJC,IAAI,EAAE,EAAE;QACRC,QAAQ,EAAE,EAAE;QACZC,SAAS,EAAE,EAAE;QACbC,KAAK,EAAE;MACT,CAAC;MACDC,KAAK,EAAE,EAAE;MACTC,QAAQ,EAAE,EAAE;MACZC,UAAU,EAAE,IAAI;MAChBC,QAAQ,EAAE;IACZ,CAAC;EACH,CAAC;EACDC,QAAQ,EAAE;IACRC,iBAAiBA,CAAA,EAAG;MAClB,MAAMC,KAAI,GAAI,IAAI,CAACH,QAAQ,CAACI,WAAW,CAAC,CAAC;MACzC,OAAO,IAAI,CAACP,KAAK,CAACQ,MAAM,CAACb,IAAG,IAC1BA,IAAI,CAACC,IAAI,CAACW,WAAW,CAAC,CAAC,CAACE,QAAQ,CAACH,KAAK,KAAKX,IAAI,CAACI,KAAK,CAACQ,WAAW,CAAC,CAAC,CAACE,QAAQ,CAACH,KAAK,CACpF,CAAC;IACH;EACF,CAAC;EACDI,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,aAAa,CAAC,CAAC;EACtB,CAAC;EACDC,OAAO,EAAE;IACP,MAAMD,aAAaA,CAAA,EAAG;MACpB,MAAME,GAAE,GAAI,MAAMpB,KAAK,CAACqB,GAAG,CAAC,QAAQ,CAAC;MACrC,IAAI,CAACd,KAAI,GAAIa,GAAG,CAACnB,IAAI;IACvB,CAAC;IAED,MAAMqB,SAASA,CAAA,EAAG;MAChB,IAAI;QACF,MAAMC,IAAG,GAAIC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;QACrD,MAAMC,cAAa,GAAIL,IAAI,EAAEM,GAAG;QAEhC,IAAI,IAAI,CAACpB,UAAU,EAAE;UACnB,MAAMT,KAAK,CAAC8B,GAAG,CAAC,UAAU,IAAI,CAACrB,UAAU,EAAE,EAAE,IAAI,CAACP,IAAI,CAAC;UACvD,IAAI,CAACM,QAAO,GAAI,8BAA8B;QAChD,OAAO;UACL,MAAMR,KAAK,CAAC+B,IAAI,CAAC,QAAQ,EAAE;YAAE,GAAG,IAAI,CAAC7B,IAAI;YAAE0B;UAAe,CAAC,CAAC;UAC5D,IAAI,CAACpB,QAAO,GAAI,0BAA0B;QAC5C;QAEA,IAAI,CAACN,IAAG,GAAI;UAAEC,IAAI,EAAE,EAAE;UAAEC,QAAQ,EAAE,EAAE;UAAEC,SAAS,EAAE,EAAE;UAAEC,KAAK,EAAE;QAAG,CAAC;QAChE,IAAI,CAACG,UAAS,GAAI,IAAI;QACtB,IAAI,CAACS,aAAa,CAAC,CAAC;MACtB,EAAE,OAAOc,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;QACpB,IAAI,CAACxB,QAAO,GAAI,sBAAsB;MACxC;IACF,CAAC;IAED0B,UAAUA,CAAChC,IAAI,EAAE;MACf,IAAI,CAACA,IAAG,GAAI;QAAE,GAAGA;MAAK,CAAC;MACvB,IAAI,CAACO,UAAS,GAAIP,IAAI,CAAC2B,GAAG;MAC1BM,MAAM,CAACC,QAAQ,CAAC;QAAEC,GAAG,EAAE,CAAC;QAAEC,QAAQ,EAAE;MAAS,CAAC,CAAC;IACjD,CAAC;IAED,MAAMC,UAAUA,CAACC,EAAE,EAAE;MACnB,IAAIC,OAAO,CAAC,0CAA0C,CAAC,EAAE;QACvD,IAAI;UACF,MAAMzC,KAAK,CAAC0C,MAAM,CAAC,UAAUF,EAAE,EAAE,CAAC;UAClC,IAAI,CAAChC,QAAO,GAAI,2BAA2B;UAC3C,IAAI,CAACU,aAAa,CAAC,CAAC;QACtB,EAAE,OAAOc,KAAK,EAAE;UACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;UACpB,IAAI,CAACxB,QAAO,GAAI,sBAAsB;QACxC;MACF;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}