{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, vModelText as _vModelText, withDirectives as _withDirectives, toDisplayString as _toDisplayString, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = {\n  class: \"form-container\"\n};\nconst _hoisted_2 = {\n  class: \"form-group\"\n};\nconst _hoisted_3 = {\n  class: \"form-group\"\n};\nconst _hoisted_4 = {\n  class: \"form-group\"\n};\nconst _hoisted_5 = {\n  class: \"form-group\"\n};\nconst _hoisted_6 = {\n  type: \"submit\"\n};\nconst _hoisted_7 = {\n  key: 0,\n  class: \"mensagem\"\n};\nconst _hoisted_8 = {\n  class: \"lojas-lista\"\n};\nconst _hoisted_9 = [\"onClick\"];\nconst _hoisted_10 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"header\", null, [_cache[8] || (_cache[8] = _createElementVNode(\"h1\", null, \"FromU2Me\", -1 /* HOISTED */)), _createElementVNode(\"nav\", null, [_createElementVNode(\"ul\", null, [_createElementVNode(\"li\", null, [_createVNode(_component_router_link, {\n    to: \"/home\"\n  }, {\n    default: _withCtx(() => _cache[5] || (_cache[5] = [_createTextVNode(\"Início\")])),\n    _: 1 /* STABLE */\n  })]), _cache[6] || (_cache[6] = _createElementVNode(\"li\", null, [_createElementVNode(\"a\", {\n    href: \"#produtos\"\n  }, \"Produtos\")], -1 /* HOISTED */)), _cache[7] || (_cache[7] = _createElementVNode(\"li\", null, [_createElementVNode(\"a\", {\n    href: \"#contato\"\n  }, \"Contato\")], -1 /* HOISTED */))])])]), _createElementVNode(\"div\", _hoisted_1, [_cache[14] || (_cache[14] = _createElementVNode(\"h2\", null, \"Criar Nova Loja\", -1 /* HOISTED */)), _createElementVNode(\"form\", {\n    onSubmit: _cache[4] || (_cache[4] = _withModifiers((...args) => $options.criarLoja && $options.criarLoja(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_2, [_cache[9] || (_cache[9] = _createElementVNode(\"label\", {\n    for: \"nome\"\n  }, \"Nome da Loja\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.loja.nome = $event),\n    id: \"nome\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.loja.nome]])]), _createElementVNode(\"div\", _hoisted_3, [_cache[10] || (_cache[10] = _createElementVNode(\"label\", {\n    for: \"endereco\"\n  }, \"Endereço\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.loja.endereco = $event),\n    id: \"endereco\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.loja.endereco]])]), _createElementVNode(\"div\", _hoisted_4, [_cache[11] || (_cache[11] = _createElementVNode(\"label\", {\n    for: \"telemovel\"\n  }, \"Telemóvel\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.loja.telemovel = $event),\n    id: \"telemovel\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.loja.telemovel]])]), _createElementVNode(\"div\", _hoisted_5, [_cache[12] || (_cache[12] = _createElementVNode(\"label\", {\n    for: \"email\"\n  }, \"Email\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"email\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.loja.email = $event),\n    id: \"email\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.loja.email]])]), _createElementVNode(\"button\", _hoisted_6, _toDisplayString($data.editandoId ? 'Atualizar Loja' : 'Criar Loja'), 1 /* TEXT */)], 32 /* NEED_HYDRATION */), $data.mensagem ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, _toDisplayString($data.mensagem), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Lista de lojas \"), _createElementVNode(\"div\", _hoisted_8, [_cache[13] || (_cache[13] = _createElementVNode(\"h2\", null, \"Minhas Lojas\", -1 /* HOISTED */)), _createElementVNode(\"ul\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.lojas, loja => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: loja._id\n    }, [_createTextVNode(_toDisplayString(loja.nome) + \" - \" + _toDisplayString(loja.email) + \" \", 1 /* TEXT */), _createElementVNode(\"button\", {\n      onClick: $event => $options.editarLoja(loja)\n    }, \"Editar\", 8 /* PROPS */, _hoisted_9), _createElementVNode(\"button\", {\n      onClick: $event => $options.apagarLoja(loja._id)\n    }, \"Apagar\", 8 /* PROPS */, _hoisted_10)]);\n  }), 128 /* KEYED_FRAGMENT */))])])])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","type","key","_createElementBlock","_Fragment","_createElementVNode","_createVNode","_component_router_link","to","default","_withCtx","_cache","_createTextVNode","_","href","_hoisted_1","onSubmit","_withModifiers","args","$options","criarLoja","_hoisted_2","for","$event","$data","loja","nome","id","required","_hoisted_3","endereco","_hoisted_4","telemovel","_hoisted_5","email","_hoisted_6","_toDisplayString","editandoId","mensagem","_hoisted_7","_createCommentVNode","_hoisted_8","_renderList","lojas","_id","onClick","editarLoja","_hoisted_9","apagarLoja","_hoisted_10"],"sources":["C:\\Users\\heieb\\OneDrive\\Ambiente de Trabalho\\10ABRIL\\Projeto-PTR-PTI\\src\\components\\CriarLoja.vue"],"sourcesContent":["<template>\r\n  <header>\r\n    <h1>FromU2Me</h1>\r\n    <nav>\r\n      <ul>\r\n        <li><router-link to=\"/home\">Início</router-link></li>\r\n        <li><a href=\"#produtos\">Produtos</a></li>\r\n        <li><a href=\"#contato\">Contato</a></li>\r\n      </ul>\r\n    </nav>\r\n  </header>\r\n\r\n  <div class=\"form-container\">\r\n    <h2>Criar Nova Loja</h2>\r\n    <form @submit.prevent=\"criarLoja\">\r\n      <div class=\"form-group\">\r\n        <label for=\"nome\">Nome da Loja</label>\r\n        <input type=\"text\" v-model=\"loja.nome\" id=\"nome\" required />\r\n      </div>\r\n\r\n      <div class=\"form-group\">\r\n        <label for=\"endereco\">Endereço</label>\r\n        <input type=\"text\" v-model=\"loja.endereco\" id=\"endereco\" required />\r\n      </div>\r\n\r\n      <div class=\"form-group\">\r\n        <label for=\"telemovel\">Telemóvel</label>\r\n        <input type=\"text\" v-model=\"loja.telemovel\" id=\"telemovel\" required />\r\n      </div>\r\n\r\n      <div class=\"form-group\">\r\n        <label for=\"email\">Email</label>\r\n        <input type=\"email\" v-model=\"loja.email\" id=\"email\" required />\r\n      </div>\r\n\r\n      <button type=\"submit\">{{ editandoId ? 'Atualizar Loja' : 'Criar Loja' }}</button>\r\n    </form>\r\n\r\n    <div v-if=\"mensagem\" class=\"mensagem\">{{ mensagem }}</div>\r\n\r\n    \r\n\r\n    <!-- Lista de lojas -->\r\n    <div class=\"lojas-lista\">\r\n      <h2>Minhas Lojas</h2>\r\n      <ul>\r\n        <li v-for=\"loja in lojas\" :key=\"loja._id\">\r\n          {{ loja.nome }} - {{ loja.email }}\r\n          <button @click=\"editarLoja(loja)\">Editar</button>\r\n          <button @click=\"apagarLoja(loja._id)\">Apagar</button>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      loja: {\r\n        nome: '',\r\n        endereco: '',\r\n        telemovel: '',\r\n        email: '',\r\n      },\r\n      lojas: [],\r\n      mensagem: '',\r\n      editandoId: null,\r\n      pesquisa: '',\r\n    };\r\n  },\r\n  computed: {\r\n    resultadoPesquisa() {\r\n      const termo = this.pesquisa.toLowerCase();\r\n      return this.lojas.filter(loja =>\r\n        loja.nome.toLowerCase().includes(termo) || loja.email.toLowerCase().includes(termo)\r\n      );\r\n    }\r\n  },\r\n  mounted() {\r\n    this.carregarLojas();\r\n  },\r\n  methods: {\r\n    async carregarLojas() {\r\n      const res = await axios.get('/lojas');\r\n      this.lojas = res.data;\r\n    },\r\n\r\n    async criarLoja() {\r\n      try {\r\n        const user = JSON.parse(localStorage.getItem('user'));\r\n        const responsavel_id = user?._id;\r\n\r\n        if (this.editandoId) {\r\n          await axios.put(`/lojas/${this.editandoId}`, this.loja);\r\n          this.mensagem = 'Loja atualizada com sucesso!';\r\n        } else {\r\n          await axios.post('/lojas', { ...this.loja, responsavel_id });\r\n          this.mensagem = 'Loja criada com sucesso!';\r\n        }\r\n\r\n        this.loja = { nome: '', endereco: '', telemovel: '', email: '' };\r\n        this.editandoId = null;\r\n        this.carregarLojas();\r\n      } catch (error) {\r\n        console.error(error);\r\n        this.mensagem = 'Erro ao salvar loja.';\r\n      }\r\n    },\r\n\r\n    editarLoja(loja) {\r\n      this.loja = { ...loja };\r\n      this.editandoId = loja._id;\r\n      window.scrollTo({ top: 0, behavior: 'smooth' });\r\n    },\r\n\r\n    async apagarLoja(id) {\r\n      if (confirm('Tem certeza que deseja apagar esta loja?')) {\r\n        try {\r\n          await axios.delete(`/lojas/${id}`);\r\n          this.mensagem = 'Loja apagada com sucesso!';\r\n          this.carregarLojas();\r\n        } catch (error) {\r\n          console.error(error);\r\n          this.mensagem = 'Erro ao apagar loja.';\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n\r\n<style scoped>\r\n\r\n.pesquisa-container {\r\n  margin-top: 2rem;\r\n  padding: 1rem;\r\n  border: 1px solid #ccc;\r\n  border-radius: 8px;\r\n  background: #f9f9f9;\r\n}\r\n\r\n.pesquisa-container input {\r\n  padding: 0.5rem;\r\n  width: 100%;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n\r\n\r\n  header {\r\n    background: #0d6efd;\r\n    color: #fff;\r\n    padding: 20px;\r\n    text-align: center;\r\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n  }\r\n\r\n  #regisbtn {\r\n    padding: 10px 20px;\r\n    background-color: lightblue;\r\n    font-weight: bold;\r\n    border: none;\r\n    cursor: pointer;\r\n    transition: background-color 0.3s;\r\n  }\r\n\r\n  #regisbtn:hover {\r\n    background-color: #0d6efd;\r\n    color: white;\r\n  }\r\n\r\n  nav ul {\r\n    list-style: none;\r\n    padding: 0;\r\n    display: flex;\r\n    justify-content: center;\r\n    gap: 20px;\r\n  }\r\n\r\n  nav ul li a {\r\n    color: #fff;\r\n    text-decoration: none;\r\n    font-weight: bold;\r\n  }\r\n\r\n  .banner {\r\n    text-align: center;\r\n    padding: 60px 20px;\r\n    background: linear-gradient(to right, #0d6efd, #6610f2);\r\n    color: #fff;\r\n  }\r\n\r\n  .produtos {\r\n    display: grid;\r\n    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\r\n    gap: 20px;\r\n    padding: 40px;\r\n    max-width: 1200px;\r\n    margin: 0 auto;\r\n  }\r\n\r\n  .produto {\r\n    background: #fff;\r\n    padding: 15px;\r\n    text-align: center;\r\n    border-radius: 5px;\r\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\r\n  }\r\n\r\n  .produto img {\r\n    max-width: 100%;\r\n    border-radius: 5px;\r\n  }\r\n\r\n  .contato {\r\n    text-align: center;\r\n    padding: 40px 20px;\r\n    background-color: #f8f9fa;\r\n  }\r\n\r\n  footer {\r\n    background: #0d6efd;\r\n    color: #fff;\r\n    text-align: center;\r\n    padding: 20px;\r\n    margin-top: 40px;\r\n    font-size: 14px;\r\n  } \r\n.form-container {\r\n  max-width: 500px;\r\n  margin: 0 auto;\r\n  background: #fff;\r\n  padding: 30px;\r\n  border-radius: 10px;\r\n  box-shadow: 0 4px 8px rgba(0,0,0,0.1);\r\n}\r\n\r\nh2 {\r\n  text-align: center;\r\n  margin-bottom: 20px;\r\n  color: #0d6efd;\r\n}\r\n\r\n.form-group {\r\n  margin-bottom: 15px;\r\n}\r\n\r\nlabel {\r\n  display: block;\r\n  font-weight: bold;\r\n  margin-bottom: 5px;\r\n}\r\n\r\ninput[type=\"text\"], input[type=\"email\"] {\r\n  width: 100%;\r\n  padding: 10px;\r\n  box-sizing: border-box;\r\n  border-radius: 5px;\r\n  border: 1px solid #ccc;\r\n}\r\n\r\nbutton {\r\n  width: 100%;\r\n  background-color: #0d6efd;\r\n  color: white;\r\n  border: none;\r\n  padding: 12px;\r\n  font-size: 16px;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n}\r\n\r\nbutton:hover {\r\n  background-color: #0b5ed7;\r\n}\r\n\r\n.mensagem {\r\n  margin-top: 15px;\r\n  text-align: center;\r\n  font-weight: bold;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}