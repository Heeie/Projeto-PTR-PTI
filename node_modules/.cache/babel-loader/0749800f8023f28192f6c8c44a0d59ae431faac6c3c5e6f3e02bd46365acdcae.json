{"ast":null,"code":"// src/auth.js\nimport createAuth0Client from '@auth0/auth0-spa-js';\nlet auth0 = null;\nexport const initAuth = async () => {\n  auth0 = await createAuth0Client({\n    domain: 'YOUR_DOMAIN',\n    // ex: dev-xxxxxx.us.auth0.com\n    client_id: 'YOUR_CLIENT_ID',\n    redirect_uri: window.location.origin,\n    audience: 'http://localhost:3000/api' // use esse no backend\n  });\n};\nexport const login = async () => {\n  await auth0.loginWithRedirect();\n};\nexport const handleRedirect = async () => {\n  const query = window.location.search;\n  if (query.includes(\"code=\") && query.includes(\"state=\")) {\n    await auth0.handleRedirectCallback();\n    window.history.replaceState({}, document.title, \"/\");\n  }\n};\nexport const getToken = async () => {\n  return await auth0.getTokenSilently();\n};\nexport const logout = () => {\n  auth0.logout({\n    returnTo: window.location.origin\n  });\n};\nexport const getUser = async () => {\n  return await auth0.getUser();\n};\nexport const isAuthenticated = async () => {\n  return await auth0.isAuthenticated();\n};","map":{"version":3,"names":["createAuth0Client","auth0","initAuth","domain","client_id","redirect_uri","window","location","origin","audience","login","loginWithRedirect","handleRedirect","query","search","includes","handleRedirectCallback","history","replaceState","document","title","getToken","getTokenSilently","logout","returnTo","getUser","isAuthenticated"],"sources":["C:/Users/heieb/OneDrive/Ambiente de Trabalho/10ABRIL/Projeto-PTR-PTI/src/auth.js"],"sourcesContent":["// src/auth.js\r\nimport createAuth0Client from '@auth0/auth0-spa-js';\r\n\r\nlet auth0 = null;\r\n\r\nexport const initAuth = async () => {\r\n  auth0 = await createAuth0Client({\r\n    domain: 'YOUR_DOMAIN', // ex: dev-xxxxxx.us.auth0.com\r\n    client_id: 'YOUR_CLIENT_ID',\r\n    redirect_uri: window.location.origin,\r\n    audience: 'http://localhost:3000/api', // use esse no backend\r\n  });\r\n};\r\n\r\nexport const login = async () => {\r\n  await auth0.loginWithRedirect();\r\n};\r\n\r\nexport const handleRedirect = async () => {\r\n  const query = window.location.search;\r\n  if (query.includes(\"code=\") && query.includes(\"state=\")) {\r\n    await auth0.handleRedirectCallback();\r\n    window.history.replaceState({}, document.title, \"/\");\r\n  }\r\n};\r\n\r\nexport const getToken = async () => {\r\n  return await auth0.getTokenSilently();\r\n};\r\n\r\nexport const logout = () => {\r\n  auth0.logout({ returnTo: window.location.origin });\r\n};\r\n\r\nexport const getUser = async () => {\r\n  return await auth0.getUser();\r\n};\r\n\r\nexport const isAuthenticated = async () => {\r\n  return await auth0.isAuthenticated();\r\n};\r\n"],"mappings":"AAAA;AACA,OAAOA,iBAAiB,MAAM,qBAAqB;AAEnD,IAAIC,KAAK,GAAG,IAAI;AAEhB,OAAO,MAAMC,QAAQ,GAAG,MAAAA,CAAA,KAAY;EAClCD,KAAK,GAAG,MAAMD,iBAAiB,CAAC;IAC9BG,MAAM,EAAE,aAAa;IAAE;IACvBC,SAAS,EAAE,gBAAgB;IAC3BC,YAAY,EAAEC,MAAM,CAACC,QAAQ,CAACC,MAAM;IACpCC,QAAQ,EAAE,2BAA2B,CAAE;EACzC,CAAC,CAAC;AACJ,CAAC;AAED,OAAO,MAAMC,KAAK,GAAG,MAAAA,CAAA,KAAY;EAC/B,MAAMT,KAAK,CAACU,iBAAiB,CAAC,CAAC;AACjC,CAAC;AAED,OAAO,MAAMC,cAAc,GAAG,MAAAA,CAAA,KAAY;EACxC,MAAMC,KAAK,GAAGP,MAAM,CAACC,QAAQ,CAACO,MAAM;EACpC,IAAID,KAAK,CAACE,QAAQ,CAAC,OAAO,CAAC,IAAIF,KAAK,CAACE,QAAQ,CAAC,QAAQ,CAAC,EAAE;IACvD,MAAMd,KAAK,CAACe,sBAAsB,CAAC,CAAC;IACpCV,MAAM,CAACW,OAAO,CAACC,YAAY,CAAC,CAAC,CAAC,EAAEC,QAAQ,CAACC,KAAK,EAAE,GAAG,CAAC;EACtD;AACF,CAAC;AAED,OAAO,MAAMC,QAAQ,GAAG,MAAAA,CAAA,KAAY;EAClC,OAAO,MAAMpB,KAAK,CAACqB,gBAAgB,CAAC,CAAC;AACvC,CAAC;AAED,OAAO,MAAMC,MAAM,GAAGA,CAAA,KAAM;EAC1BtB,KAAK,CAACsB,MAAM,CAAC;IAAEC,QAAQ,EAAElB,MAAM,CAACC,QAAQ,CAACC;EAAO,CAAC,CAAC;AACpD,CAAC;AAED,OAAO,MAAMiB,OAAO,GAAG,MAAAA,CAAA,KAAY;EACjC,OAAO,MAAMxB,KAAK,CAACwB,OAAO,CAAC,CAAC;AAC9B,CAAC;AAED,OAAO,MAAMC,eAAe,GAAG,MAAAA,CAAA,KAAY;EACzC,OAAO,MAAMzB,KAAK,CAACyB,eAAe,CAAC,CAAC;AACtC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}